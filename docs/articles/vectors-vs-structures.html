<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vectors and scalars versus structures • tagtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Vectors and scalars versus structures">
<meta property="og:description" content="tagtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tagtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Detectors.html">Detectors</a>
    </li>
    <li>
      <a href="../articles/TagTools.html">Tagtools vignettes: overview and introduction</a>
    </li>
    <li>
      <a href="../articles/acceleration-filtering.html">Complementary filtering for acceleration: low- &amp; high-frequency</a>
    </li>
    <li>
      <a href="../articles/data-quality-error-correction.html">Data quality &amp; error correction</a>
    </li>
    <li>
      <a href="../articles/detectors-draft.html">detectors draft</a>
    </li>
    <li>
      <a href="../articles/dive-stats.html">Using dive_stats</a>
    </li>
    <li>
      <a href="../articles/find-dives.html">Using find_dives</a>
    </li>
    <li>
      <a href="../articles/fine-scale-tracking.html">Fine-scale tracking</a>
    </li>
    <li>
      <a href="../articles/install-load-tagtools.html">Installing and loading tagtools</a>
    </li>
    <li>
      <a href="../articles/jerk-transients.html">Jerk: a way to emphasize rapid changes in acceleration</a>
    </li>
    <li>
      <a href="../articles/load-tag-data.html">Load tag data</a>
    </li>
    <li>
      <a href="../articles/magnetometer-filtering.html">More complementary filtering: magnetometer &amp; dynamic acceleration</a>
    </li>
    <li>
      <a href="../articles/mahalanobis-distance.html">Mahalanobis distance</a>
    </li>
    <li>
      <a href="../articles/plots-and-cropping.html">Plots and cropping</a>
    </li>
    <li>
      <a href="../articles/rotation-test.html">Rotation test</a>
    </li>
    <li>
      <a href="../articles/tag-to-whale-frame.html">Tag orientation: From tag frame to sperm whale frame</a>
    </li>
    <li>
      <a href="../articles/vectors-vs-structures.html">Vectors and scalars versus structures</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="vectors-vs-structures_files/header-attrs-2.10/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Vectors and scalars versus structures</h1>
                        <h4 class="author">tagtools project team</h4>
            
            <h4 class="date">2021-08-18</h4>
      
      
      <div class="hidden name"><code>vectors-vs-structures.Rmd</code></div>

    </div>

    
    
<p>Welcome to the <code>vectors-vs-structures</code> vignette! Thanks for taking some time to get to know our package; we hope it is useful to you. In this quick vignette, you will distinguish between vectors and structures.</p>
<p><em>Estimated time for this practical: 15 minutes.</em></p>
<p>These vignettes assume that you have R/Rstudio installed on your machine, some basic experience working with them, and can execute provided code, making some user-specific changes along the way (e.g. to help R find a file you downloaded). We will provide you with quite a few lines. To boost your own learning, you would do well to try and write them before opening what we give, using this just to check your work.</p>
<div id="setup-write-cats_test_raw-nc-and-load-it-as-a-large-list-mn" class="section level1">
<h1 class="hasAnchor">
<a href="#setup-write-cats_test_raw-nc-and-load-it-as-a-large-list-mn" class="anchor"></a>Setup: write “cats_test_raw.nc”, and load it as a large list, <code>MN</code>
</h1>
<p>For this vignette we will use the NetCDF file <code>cats_test_raw.nc</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tagtools</span><span class="op">)</span>
<span class="va">cats_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"cats_test_raw.nc"</span>, package <span class="op">=</span> <span class="st">"tagtools"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">MN</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_nc.html">load_nc</a></span><span class="op">(</span><span class="va">cats_file_path</span><span class="op">)</span></code></pre></div>
<p>This will write the file “cats_test_raw.nc”, and load it into your current R session as a list object called <code>MN</code>. Looks good? Good work! Confused? See the vignette <code>load-tag-data</code>.</p>
</div>
<div id="sensor-data-structures-extracting-data-vectors" class="section level1">
<h1 class="hasAnchor">
<a href="#sensor-data-structures-extracting-data-vectors" class="anchor"></a>Sensor data structures &amp; extracting data vectors</h1>
<p>Having caught up, we return to sensor data structures. Like <code>$info</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">MN</span><span class="op">$</span><span class="va">info</span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#MN_info">
Show/Hide Results
</button>
<div id="MN_info" class="collapse">
<pre><code>#&gt; $depid
#&gt; [1] "cats_test"
#&gt; 
#&gt; $creation_date
#&gt; [1] "2019-12-07 13:36:15"
#&gt; 
#&gt; $data_source
#&gt; [1] "20160730-091117-Froback-11-part"
#&gt; 
#&gt; $data_nfiles
#&gt; [1] "1"
#&gt; 
#&gt; $data_format
#&gt; [1] "csv"
#&gt; 
#&gt; $device_make
#&gt; [1] "CATS"
#&gt; 
#&gt; $device_type
#&gt; [1] "Archival"
#&gt; 
#&gt; $dephist_device_tzone
#&gt; [1] "0"
#&gt; 
#&gt; $dephist_device_regset
#&gt; [1] "dd-mm-yyyy HH:MM:SS"
#&gt; 
#&gt; $dephist_device_datetime_start
#&gt; [1] "2016-07-27 16:29:38"
#&gt; 
#&gt; $sensors_list
#&gt; [1] "3 axis Accelerometer,3 axis Gyroscope,Temperature,Pressure,Light level,"
#&gt; 
#&gt; $animal_id
#&gt; [1] "Unknown"
#&gt; 
#&gt; $animal_species_common
#&gt; [1] "Humpback whale"
#&gt; 
#&gt; $animal_species_science
#&gt; [1] "Megaptera novaeangliae"
#&gt; 
#&gt; $dephist_deploy_datetime_start
#&gt; [1] "UNKNOWN"
#&gt; 
#&gt; $dephist_deploy_locality
#&gt; [1] ""
#&gt; 
#&gt; $dephist_deploy_location_lat
#&gt; [1] ""
#&gt; 
#&gt; $dephist_deploy_location_lon
#&gt; [1] ""
#&gt; 
#&gt; $dephist_deploy_method
#&gt; [1] ""
#&gt; 
#&gt; $device_model
#&gt; [1] ""
#&gt; 
#&gt; $device_serial
#&gt; [1] "UNKNOWN"
#&gt; 
#&gt; $device_url
#&gt; [1] "http://www.cats.is/"
#&gt; 
#&gt; $dtype_datetime_made
#&gt; [1] "2019-12-07 18:26:51"
#&gt; 
#&gt; $dtype_format
#&gt; [1] ".csv"
#&gt; 
#&gt; $dtype_nfiles
#&gt; [1] "UNKNOWN"
#&gt; 
#&gt; $dtype_source
#&gt; [1] "UNKNOWN"
#&gt; 
#&gt; $project_datetime_end
#&gt; [1] ""
#&gt; 
#&gt; $project_datetime_start
#&gt; [1] ""
#&gt; 
#&gt; $project_name
#&gt; [1] ""
#&gt; 
#&gt; $provider_cite
#&gt; [1] "Contact data provider"
#&gt; 
#&gt; $provider_details
#&gt; [1] "Stanford University"
#&gt; 
#&gt; $provider_doi
#&gt; [1] "Contact data provider"
#&gt; 
#&gt; $provider_email
#&gt; [1] "jergold@stanford.edu"
#&gt; 
#&gt; $provider_license
#&gt; [1] "Contact data provider"
#&gt; 
#&gt; $provider_name
#&gt; [1] "Jeremy Goldbogen"
#&gt; 
#&gt; $sensors_firm
#&gt; [1] "Not specified"
#&gt; 
#&gt; $sensors_soft
#&gt; [1] "Not specified"
#&gt; 
#&gt; $data_owner
#&gt; [1] "Jeremy Goldbogen, Dave Cade"</code></pre>
</div>
<p>these are structures that contain both the data and some information about it. Typing any of the variable names followed by enter will show what is in it. For example, try this for Acceleration:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">MN</span><span class="op">$</span><span class="va">A</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># display the STRucture of MN$A</span>
<span class="co">#&gt; List of 19</span>
<span class="co">#&gt;  $ data              : num [1:720000, 1:3] -2.42 -2.4 -2.35 -2.3 -2.2 ...</span>
<span class="co">#&gt;  $ sampling          : chr "regular"</span>
<span class="co">#&gt;  $ sampling_rate     : num 0.00463</span>
<span class="co">#&gt;  $ sampling_rate_unit: chr "Hz"</span>
<span class="co">#&gt;  $ depid             : chr "cats_test"</span>
<span class="co">#&gt;  $ creation_date     : chr "2019-12-07 13:26:03"</span>
<span class="co">#&gt;  $ history           : chr "read_cats"</span>
<span class="co">#&gt;  $ type              : chr "A"</span>
<span class="co">#&gt;  $ full_name         : chr "Acceleration"</span>
<span class="co">#&gt;  $ description       : chr "triaxial acceleration"</span>
<span class="co">#&gt;  $ unit              : chr "m/s2"</span>
<span class="co">#&gt;  $ unit_name         : chr "metres per second squared"</span>
<span class="co">#&gt;  $ unit_label        : chr "m/s^2"</span>
<span class="co">#&gt;  $ start_offset      : num 0</span>
<span class="co">#&gt;  $ start_offset_units: chr "second"</span>
<span class="co">#&gt;  $ column_name       : chr "x,y,z"</span>
<span class="co">#&gt;  $ frame             : chr "tag"</span>
<span class="co">#&gt;  $ axes              : chr "FRU"</span>
<span class="co">#&gt;  $ files             : chr "20160730-091117-Froback-11-part"</span></code></pre></div>
<p>In Matlab, Octave and R it will look a little different, but will have all the same information. Specifically, we are after the variable <code>A</code>, which is contained within the large list MN. <code>MN$A</code> is how we access it, in R.</p>
<p>The results tell you that the acceleration data were sampled at a nominal rate of 32 Hz (32 samples per second) and are in units of meters per second squared. If you are more familiar with data vectors than with structures, you can easily get the data out of the structure, and into its own standalone object, using:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">A</span> <span class="op">&lt;-</span> <span class="va">MN</span><span class="op">$</span><span class="va">A</span><span class="op">$</span><span class="va">data</span>
<span class="va">sampling_rate</span> <span class="op">&lt;-</span> <span class="va">MN</span><span class="op">$</span><span class="va">A</span><span class="op">$</span><span class="va">sampling_rate</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">A</span>, max.level <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">sampling_rate</span></code></pre></div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#data_out">
Show/Hide Results
</button>
<div id="data_out" class="collapse">
<pre><code>#&gt; [1] "Results for str(A, max.level = 1):"
#&gt; [1] "----------------------------------"
#&gt;  num [1:720000, 1:3] -2.42 -2.4 -2.35 -2.3 -2.2 ...
#&gt; [1] "----------------------------------"
#&gt; [1] "Result for sampling_rate:"
#&gt; [1] "----------------------------------"
#&gt; [1] 0.00462963</code></pre>
</div>
<p>This makes a matrix A with the acceleration data and a scalar <code>sampling_rate</code> with the sampling rate, which in this case is 32. You can also just keep everything stored in the list object, if you like (in R there is not a clear reason to pull them out). If you do this, you’d just have to keep typing <code>MN$A$data</code> and <code>MN$A$sampling_rate</code> instead of <code>A</code> or <code>sampling_rate</code>. If you move forward to <code>plots-and-cropping</code>, you will still use the animaltag list <code>MN</code>, pulling data directly from it.</p>
</div>
<div id="review" class="section level1">
<h1 class="hasAnchor">
<a href="#review" class="anchor"></a>Review</h1>
<p>You’ve learned to distinguish between vectors and structures, and go from a structure to a vector (or scalar).</p>
<p>Nice work! You’re all set on <code>vectors-vs-structures</code>.</p>
<p><em>If you’d like to keep working through these practicals, <code>plots-and-cropping</code> is a logical continuation. It’s particularly nice to learn to use the plotter that comes with tagtools, called <code>plott</code>.</em></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html">vignette</a></span><span class="op">(</span><span class="st">'plots-and-cropping'</span>, package <span class="op">=</span> <span class="st">'tagtools'</span><span class="op">)</span></code></pre></div>
<p><em>Otherwise, you might consider jumping ahead to <code>data-quality-error-correction</code>. In it, you’ll get started with the work of fixing errors in data.</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html">vignette</a></span><span class="op">(</span><span class="st">'data-quality-error-correction'</span>, package <span class="op">=</span> <span class="st">'tagtools'</span><span class="op">)</span></code></pre></div>
<hr>
<p>Animaltags home pages: <a href="http://animaltags.org/" class="uri">http://animaltags.org/</a> (old), <a href="https://animaltags.netlify.app/" class="uri">https://animaltags.netlify.app/</a> (new), <a href="https://github.com/stacyderuiter/TagTools" class="uri">https://github.com/stacyderuiter/TagTools</a> (for latest beta source code), <a href="https://stacyderuiter.github.io/TagTools/articles/TagTools" class="uri">https://stacyderuiter.github.io/TagTools/articles/TagTools</a> (vignettes overview)</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Stacy DeRuiter, Mark Johnson, David Sweeney, Ye Joo McNamara-Oh, Samuel Fynewever, (Oghenkevwe) Racheal Tejevbo, Tiago Marques.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
