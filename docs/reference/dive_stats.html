<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute summary statistics for dives or flights — dive_stats • tagtools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute summary statistics for dives or flights — dive_stats" />
<meta property="og:description" content="Given a depth/altitude profile and a series of dive/flight start and end times,
compute summary dive statistics." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tagtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/acceleration-filtering.html">Complementary filtering for acceleration: low- &amp; high-frequency</a>
    </li>
    <li>
      <a href="../articles/data-quality-error-correction.html">Data quality &amp; error correction</a>
    </li>
    <li>
      <a href="../articles/detectors-draft.html">detectors draft</a>
    </li>
    <li>
      <a href="../articles/Detectors.html">Detectors</a>
    </li>
    <li>
      <a href="../articles/dive-stats.html">Using dive_stats</a>
    </li>
    <li>
      <a href="../articles/find-dives.html">Using find_dives</a>
    </li>
    <li>
      <a href="../articles/fine-scale-tracking.html">Fine-scale tracking</a>
    </li>
    <li>
      <a href="../articles/install-load-tagtools.html">Installing and loading tagtools</a>
    </li>
    <li>
      <a href="../articles/jerk-transients.html">Jerk: a way to emphasize rapid changes in acceleration</a>
    </li>
    <li>
      <a href="../articles/load-tag-data.html">Load tag data</a>
    </li>
    <li>
      <a href="../articles/magnetometer-filtering.html">More complementary filtering: magnetometer &amp; dynamic acceleration</a>
    </li>
    <li>
      <a href="../articles/mahalanobis-distance.html">Mahalanobis distance</a>
    </li>
    <li>
      <a href="../articles/overview.html">Tagtools vignettes: overview and introduction</a>
    </li>
    <li>
      <a href="../articles/plots-and-cropping.html">Plots and cropping</a>
    </li>
    <li>
      <a href="../articles/rotation-test.html">Rotation test</a>
    </li>
    <li>
      <a href="../articles/tag-to-whale-frame.html">Tag orientation: From tag frame to sperm whale frame</a>
    </li>
    <li>
      <a href="../articles/vectors-vs-structures.html">Vectors and scalars versus structures</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute summary statistics for dives or flights</h1>
    
    <div class="hidden name"><code>dive_stats.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Given a depth/altitude profile and a series of dive/flight start and end times,
compute summary dive statistics.</p>
    </div>

    <pre class="usage"><span class='fu'>dive_stats</span><span class='op'>(</span>
  <span class='va'>P</span>,
  X <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>dive_cues</span>,
  sampling_rate <span class='op'>=</span> <span class='cn'>NULL</span>,
  prop <span class='op'>=</span> <span class='fl'>0.85</span>,
  angular <span class='op'>=</span> <span class='cn'>FALSE</span>,
  X_name <span class='op'>=</span> <span class='cn'>NULL</span>,
  na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>P</th>
      <td><p>Depth data. A vector (or one-column matrix), or a tag sensor data list.</p></td>
    </tr>
    <tr>
      <th>X</th>
      <td><p>(optional) Another data stream (as a vector (or a one-column matrix) or a tag sensor data list) for which to compute mean and variability. If <code>angular</code> is TRUE, interpreted as angular data (for example pitch, roll, or heading) and means and variances are computed accordingly.
The unit of measure must be radians (NOT degrees). Currently, <code>X</code> must be regularly sampled.</p></td>
    </tr>
    <tr>
      <th>dive_cues</th>
      <td><p>A two-column data frame or matrix with dive/flight start times in the first column and dive/flight end times in the second. May be obtained from <code><a href='find_dives.html'>find_dives</a></code>. Units should be seconds since start of tag recording.</p></td>
    </tr>
    <tr>
      <th>sampling_rate</th>
      <td><p>(optional and ignored if <code>P</code> or <code>X</code> are tag sensor data lists) Sampling rate of <code>P</code> (and <code>X</code>, if <code>X</code> is given). If omitted, then input data must be sensor data lists. If one value is given and both <code>P</code> and <code>X</code> are input, they are assumed to have the same sampling rate. If <code>P</code> and <code>X</code> have different sampling rates, then this input can have two elements (first for <code>P</code>, second for <code>X</code>).</p></td>
    </tr>
    <tr>
      <th>prop</th>
      <td><p>The proportion of the maximal excursion to use for defining the "destination" phase of a dive or flight. For example, if <code>prop</code> is 0.85 (the default), then the destination phase lasts from the first to the last time depth/altitude exceeds 0.85 times the within-dive maximum.</p></td>
    </tr>
    <tr>
      <th>angular</th>
      <td><p>Is X angular data? Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>X_name</th>
      <td><p>A short name to use for X variable in the output data frame. For example, if X is pitch data, use X_name='pitch' to get outputs column names like mean_pitch, etc. Defaults to 'angle' for angular data and 'aux' for non-angular data.</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>Logical, default is TRUE. If TRUE, then returned mean values ignore missing values, computing an average over all non-missing observations.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with one row for each dive/flight and columns as detailed below. All times are in seconds, and rates in units of x/sec where x is the units of <code>P</code>.</p><ul>
<li><p><code>max</code>  The maximum depth or altitude
<code>st</code> start time of dive (seconds) - from input dive_cues
<code>et</code> end time of dive (seconds) - from input dive_cues
<code>dur</code>  The duration of the excursion
<code>dest_st</code>  The start time of the destination phase in seconds since start of tag recording (which is also the end time of to phase)
<code>dest_et</code>  The end time of the destination phase in seconds since start of tag recording (which is also the start of the from phase).
<code>dest_dur</code>  The duration in seconds of destination phase
<code>to_dur</code>  The duration in seconds of to phase
<code>from_dur</code>  The duration in seconds of from phase
<code>mean_angle</code>  If angular=TRUE and X is input, the mean angle for the entire excursion. Values for each phase are also provided in columns <code>mean_to_angle</code>, <code>mean_dest_angle</code>, and <code>mean_from_angle</code>.
<code>angle_var</code>  If angular=TRUE and X is input, the angular variance for the entire excursion. Values for each phase are also provided individually in columns <code>to_angle_var</code>, <code>dest_angle_var</code>, and <code>from_angle_var</code>.
<code>mean_aux</code>  If angular=FALSE and X is input, the mean value of X for the entire excursion. Values for each phase are also provided in columns <code>mean_to_aux</code>, <code>mean_dest_aux</code>, and <code>mean_from_aux</code>.
<code>aux_sd</code>  If angular=FALSE and X is input, the standard deviation of X for the entire excursion. Values for each phase are also provided individually in columns <code>to_aux_sd</code>, <code>dest_aux_sd</code>, and <code>from_aux_sd</code>.
#'</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In addition to the maximum excursion and duration, <code>dive_stats</code> divides each excursion into three phases:
"to" (descent for dives, ascent for flights), "from" (ascent for dives, descent for flights), and "destination".
The "destination" (bottom for dives and top for flights)
phase of the excursion is identified using a "proportion of maximum depth/altitude" method,
whereby for example the bottom phase of a dive lasts from the first to the last time the depth exceeds a stated proportion of the maximum depth.
Average vertical velocity is computed for the to and from phases using a simple method: total depth/altitude change divided by total time.
If an angular data variable is also supplied (for example, pitch, roll or heading),
then the circular mean (computed via <code><a href='https://rdrr.io/pkg/CircStats/man/circ.mean.html'>circ.mean</a></code>) and variance (computed via <code><a href='https://rdrr.io/pkg/CircStats/man/circ.disp.html'>circ.disp</a></code> and reporting the <code>var</code> output)
are also computed for each dive phase and the dive as a whole.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='find_dives.html'>find_dives</a></code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Stacy DeRuiter, Mark Johnson, David Sweeney, Ye Joo McNamara-Oh, Samuel Fynewever, (Oghenkevwe) Racheal Tejevbo, Tiago Marques.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


