function    T = conv_ntc(tv,cal)
%
%    T = conv_ntc(tv,cal)
%

% T-R characteristic for 22k EPCOS B573 series NTC taken from datasheet
R=[-10.0 121690 111470 131920 8.4 1.5 5.4
-5.0 93115 86082 100150 7.6 1.4 5.3
0.0 71846 67008 76684 6.7 1.3 5.1
5.0 55880 52558 59201 5.9 1.2 4.9
10.0 43795 41525 46064 5.2 1.1 4.8
15.0 34575 33037 36112 4.4 1.0 4.7
20.0 27487 26460 28515 3.7 0.8 4.5
25.0 22000 21340 22660 3.0 0.7 4.4
30.0 17721 17063 18380 3.7 0.9 4.3
35.0 14363 13738 14989 4.4 1.1 4.1
40.0 11710 11127 12293 5.0 1.2 4.0];

sr = 47.5e3 ;
v = R(:,2)./(sr+R(:,2)) ;
T = interp1(v,R(:,1),tv) ;
return
